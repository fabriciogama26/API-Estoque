Tela: Login
============

Objetivo
--------
- Controlar acesso antes de liberar qualquer rota protegida (`ProtectedRoute`).
- Oferecer dois fluxos de autenticacao:
  - **Modo remoto (Supabase)**: usa `supabase.auth.signInWithPassword`.
  - **Modo local**: valida credenciais definidas em `VITE_LOCAL_USERNAME` e `VITE_LOCAL_PASSWORD`.

Campos do formulario
--------------------
- `username` (obrigatorio): email ou identificador. No modo local comparar com o valor de `VITE_LOCAL_USERNAME`.
- `password` (obrigatorio).
- `remember` (checkbox): somente visual por enquanto (persistencia depende do Supabase).

Validacoes
----------
- HTML `required` impede envio sem usuario/senha.
- `AuthContext.login` retorna `Informe usuario e senha` quando algum campo esta vazio.
- Modo remoto: mensagem do Supabase exibida diretamente em caso de erro.
- Modo local: retorna `Usuario ou senha invalidos` se fugir do par configurado.

Fluxo de dados
--------------
- Em caso de sucesso, `AuthContext` armazena o usuario normalizado em `localStorage` (`api-estoque-auth`) para recarga rapida.
- No modo remoto o Supabase mantem a sessao ativa (refresh tokens administrados pelo SDK).
- No modo local nenhum token externo e emitido; todo o estado fica no navegador.

Notas importantes
-----------------
- Para alternar o comportamento defina `VITE_DATA_MODE` (`remote` ou `local`) e reinicie o Vite.
- Limpe `api-estoque-auth` ao trocar de modo para evitar reaproveitar usuarios com formato diferente.
- Guia completo: `docs/data-mode-guide.txt`.
