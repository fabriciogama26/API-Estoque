Tela: Login
============

Visão geral
-----------
- Porta de entrada para as rotas protegidas (`ProtectedRoute`).
- Suporta dois fluxos de autenticação:
  - **Modo Supabase:** utiliza `supabase.auth.signInWithPassword` e oferece recuperação de senha via email.
  - **Modo local:** valida credenciais configuradas em `.env.local` (`VITE_LOCAL_USERNAME`, `VITE_LOCAL_PASSWORD`).

Comportamento do formulário
---------------------------
- Campos obrigatórios: email (`username`) e senha (`password`).
- Botão "Entrar" exibe estado de carregamento enquanto aguarda o `AuthContext.login`.
- Link "Esqueceu a senha?" chama `AuthContext.recoverPassword` (apenas no modo Supabase). Exige email preenchido e exibe mensagens de sucesso/erro na própria tela.
- Mensagens de feedback (`feedback--error`/`feedback--success`) aparecem abaixo dos campos.

Fluxo de dados
--------------
1. Ao enviar o formulário, `AuthContext.login` decide entre modo local ou Supabase conforme `VITE_DATA_MODE`.
2. Em sucesso, o usuário é redirecionado para a rota originalmente solicitada (`location.state.from` ou `/`).
3. `AuthContext` persiste o usuário normalizado em `localStorage` (`api-estoque-auth`) para restaurar a sessão na próxima visita.
4. No modo Supabase, o SDK administra refresh tokens automaticamente.

Boas práticas
-------------
- Limpe `localStorage.api-estoque-auth` ao alternar entre os modos para evitar conflitos de credenciais.
- Mantenha `VITE_SUPABASE_URL` e `VITE_SUPABASE_ANON_KEY` válidos no `.env.local` para o modo remoto.
- Configure os templates de email de recuperação no painel do Supabase (ver [`docs/supabase-auth-setup.txt`](supabase-auth-setup.txt)).

Componentes e estilos
---------------------
- `src/pages/LoginPage.jsx`
- `src/context/AuthContext.jsx`
- `src/styles/LoginPage.css`
