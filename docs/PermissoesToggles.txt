Status: corrigido (2026-02)

Sintoma anterior:
- Toggles na tela de Configuracoes ligavam/desligavam juntos por causa de chaves compartilhadas.
- Exemplo: Dashboard Estoque ligava estoque.read; isso liberava Entradas, Saidas, Materiais e Termo no menu.

Causa:
- PERMISSION_GROUPS usava chaves de dominio (estoque.read/write) em varios grupos.
- PAGE_REQUIRED_PERMISSION mapeava varias paginas para estoque.read/acidentes.read.

Correcao aplicada:
- Cada pagina tem chave propria em PAGE_REQUIRED_PERMISSION.
- PERMISSION_GROUPS passou a usar chaves por pagina (sem estoque.read/write compartilhado).
- Novas chaves: estoque.atual e estoque.relatorio.
- Migration adiciona chaves e mapeia roles existentes.

Impacto:
- Menu/rotas refletem exatamente os toggles selecionados.
- Chaves de dominio (estoque.read/write, acidentes.read/write) continuam existindo para RLS.

Arquivos:
- src/config/permissions.js
- supabase/migrations/20260217_page_permission_keys.sql
- supabase/migrations_rebuild/0010_seed_core.sql
