Tela: Entradas
==============

Visao geral
-----------
- Registra novas entradas de materiais no estoque e exibe historico paginado.
- Reutiliza catalogos de materiais (`api.materiais.list`) para validar registros e calcular valores totais.

Arquitetura
-----------
- `EntradasProvider` (`src/context/EntradasContext.jsx`) exp√µe o estado do hook `useEntradasController`.
- Logica e handlers no hook; utilitarios em `src/utils/entradasUtils.js` (datas, normalizacao, resumo do material, queries).
- Servicos em `src/services/entradasService.js` para list/create/update/history de entradas, listar/buscar materiais e centros de estoque.
- Logs de erro: `useEntradasController` usa `useErrorLogger('entradas')` para reportar falhas de carga, submit, filtros, historico e busca de materiais.

Cadastro
--------
- Campos obrigatorios: material, quantidade, centro de estoque e data da entrada (numero minimo 1).
- Payload inclui `usuarioResponsavel` (usuario autenticado) e limpa formulario/auto-complete ao concluir.
- Erros de validacao exibem `feedback--error` acima dos botoes.

Filtros, auto-complete e listagem
---------------------------------
- Filtros: termo livre (material/fabricante/usuario), registrado por, centro de estoque e faixa de datas. **Aplicar** chama `load(filters)`; **Limpar** restaura filtros iniciais e recarrega.
- Auto-complete: inicia busca apos `MATERIAL_SEARCH_MIN_CHARS`, com debounce (`MATERIAL_SEARCH_DEBOUNCE_MS`) e limite de resultados; usa `api.materiais.search` quando disponivel, senao fallback local.
- Historico usa `TablePagination` com `TABLE_PAGE_SIZE`. Cada linha calcula valor total (quantidade * valorUnitario). Se a API nao retornar centros de estoque, o hook deriva opcoes dos registros.
- Botao **Atualizar** refaz a consulta com filtros atuais; em vazio, mostra mensagem neutra.

Boas praticas
-------------
- Mantenha o catalogo de materiais completo (fabricante e valor unitario) para historico consistente.
- No modo local, `localApi.entradas.*` deve replicar `materialId`, `dataEntrada`, `quantidade`, `centroCusto`, `usuarioResponsavel`.
- Use filtros de data para recortes especificos antes de exportar relatorios externos.

Atualizacao 2025-12
-------------------
- Modularizacao: pagina apenas orquestra `EntradasProvider`; logica de busca, filtros, historico e autocomplete foi extraida para hook + utils/services.
- Registro de erros da tela enviado para Supabase via `useErrorLogger('entradas')`.
