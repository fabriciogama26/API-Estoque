Tela: Entradas de Materiais

Visao geral

Registrar, editar e consultar entradas de EPI/materiais no estoque, com filtros por periodo, centro de servico, categoria e termo livre. Pagina suportando caminhos /entradas e /movimentacoes/entradas.

Arquitetura (modular)

- Hook useEntradasController + EntradasContext: controla formulario, filtros, tabela e paginacao.
- Servico: entradasService (listar/criar/atualizar/cancelar) com dataMode (Supabase/local).
- Utils: entradasUtils para formatar valores, montar payloads e filtrar.
- Erros: useErrorLogger('entradas') grava falhas em app_errors.

Fluxos principais

- Formulario: seleciona material, centro de servico, quantidade, valor unitario, data e observacao; salva cria ou edita.
- Filtros: periodo, centro de servico, categoria, termo livre; limpar restaura defaults.
- Tabela: paginacao local configuravel; acao de cancelar entrada destacada em vermelho.

Boas praticas

- Evitar refetch se filtros nao mudarem; manter botoes de filtro estaveis sem flicker.
- Usar caminho alternativo /movimentacoes/entradas quando acionado por menu.

Atualizacao 2025-12

- Tela modularizada com hooks/services/utils; botao de cancelar em vermelho; logging de erros ativo.
