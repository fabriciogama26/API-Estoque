{
    "dashboard": {
        "title": "Dashboard de estoque",
        "summary": "Use esta tela para ver rapidamente movimentaÃ§Ã£o, valores e alertas de estoque.",
        "steps": [
            {
                "title": "Aplicar filtros rÃ¡pidos",
                "description": "No campo Busca digite parte do nome de material, grupo ou pessoa e combine com perÃ­odo inicial/final; clique em Aplicar filtros para recalcular todos os grÃ¡ficos. Use Limpar filtros para voltar ao panorama completo.",
                "mediaHint": "Ãrea de filtros no topo com perÃ­odo e campo de busca."
            },
            {
                "title": "Ler os cards de destaque",
                "description": "Os cards mostram totais consolidados (movimentado, saldo e alertas). Passe o mouse no Ã­cone (i) para entender como cada indicador Ã© calculado.",
                "mediaHint": "Cards de resumo com valores e Ã­cones."
            },
            {
                "title": "Interagir com os grÃ¡ficos",
                "description": "Clique em uma barra ou fatia para filtrar o restante dos grÃ¡ficos pelo mesmo termo. Use o chip Limpar que aparece acima do grÃ¡fico para remover o filtro.",
                "mediaHint": "GrÃ¡fico com tooltip e chip de filtro ativo."
            },
            {
                "title": "Expandir grÃ¡ficos",
                "description": "Para analisar um grÃ¡fico com mais espaÃ§o, clique no botÃ£o de expandir (canto superior direito do card). Feche clicando fora ou no Ã­cone de fechar.",
                "mediaHint": "BotÃ£o de expandir no cabeÃ§alho do card."
            }
        ],
        "notes": [
            "Os grÃ¡ficos respeitam os filtros aplicados; se algo parecer zerado, confirme o perÃ­odo.",
            "O campo Busca aceita trechos de nome de material, grupo ou pessoa; termos parciais funcionam."
        ]
    },
    "dashboardAcidentes": {
        "title": "Dashboard de acidentes",
        "summary": "Monitore tendÃªncia, tipos de acidente e distribuiÃ§Ãµes para SST.",
        "steps": [
            {
                "title": "Definir filtros iniciais",
                "description": "No campo Busca digite pessoa, agente ou local (trechos do nome/matrÃ­cula tambÃ©m funcionam) e combine com perÃ­odo e unidade/centro de serviÃ§o. Clique em Aplicar para recalcular os indicadores.",
                "mediaHint": "Filtros do dashboard de acidentes."
            },
            {
                "title": "Conferir indicadores-chave",
                "description": "Os cards exibem totais, taxas e comparativos. Use o texto de ajuda abaixo dos cards para saber como foi calculado.",
                "mediaHint": "Cards de KPI da tela de acidentes."
            },
            {
                "title": "Ler grÃ¡ficos com tooltips",
                "description": "Use os botÃµes (i) nos tÃ­tulos para ver o que cada grÃ¡fico representa. Passe o mouse nos pontos/segmentos para ver valores detalhados.",
                "mediaHint": "GrÃ¡fico com tooltip e Ã­cone de info."
            },
            {
                "title": "Abrir em tela cheia",
                "description": "Clique no botÃ£o de expandir do grÃ¡fico desejado. A visualizaÃ§Ã£o modal permite enxergar mais pontos sem poluiÃ§Ã£o visual.",
                "mediaHint": "Modal de grÃ¡fico expandido."
            }
        ],
        "notes": [
            "Filtros sÃ£o persistidos enquanto vocÃª navega pelo dashboard.",
            "Se nenhum dado aparecer, valide se o perÃ­odo contÃ©m registros de acidentes."
        ]
    },
    "estoque": {
        "title": "Estoque atual",
        "summary": "Consulta do saldo por material, alertas de estoque minimo, acoes rapidas e resumo financeiro.",
        "steps": [
            {
                "title": "Filtrar materiais",
                "description": "No campo Busca digite parte do nome, descricao, ID, cor ou CA do material para reduzir a lista; combine com centro de estoque e faixas de saldo. Clique em Aplicar para refinar ou em Limpar para remover todos os filtros.",
                "mediaHint": "Filtros de estoque e botoes Aplicar/Limpar."
            },
            {
                "title": "Monitorar alertas",
                "description": "O bloco Alertas de estoque mostra itens abaixo do minimo e o valor estimado para reposicao. Use a lista principal para revisar e ajustar os materiais criticos.",
                "mediaHint": "Tabela de alertas com status de atencao."
            },
            {
                "title": "Acoes por material",
                "description": "Em cada material, use o grupo Acoes: Entrada (abrir cadastro de entrada), Saida (abrir cadastro de saida), sino (historico de saidas do material) e o botao para alterar o minimo. O sino fica ativo apenas se houver movimentacao para o material.",
                "mediaHint": "Botoes circulares de acoes (Entrada, Saida, Sino de historico e Alterar minimo)."
            },
            {
                "title": "Consultar historico de saidas",
                "description": "Clique no sino em Acoes para abrir um modal com todas as saidas do material. Use o filtro Mes/Ano para reduzir a lista e veja quem recebeu, quantidade, data e quem autorizou. O botao so ativa quando existe movimentacao registrada. Use o check Apenas com historico de saidas nos filtros para ver so materiais com movimentacao.",
                "mediaHint": "Modal em tabela listando saidas com filtro Mes/Ano."
            },
            {
                "title": "Alterar estoque minimo",
                "description": "Clique em Alterar minimo para abrir uma janela de edicao. Informe o novo valor e confirme em Salvar. O sistema recarrega os dados apos salvar.",
                "mediaHint": "Modal de alteracao do estoque minimo com botoes Cancelar/Salvar."
            },
            {
                "title": "Usar paginacao",
                "description": "Navegue pelas paginas no rodape da lista para ver mais itens. O total considera os filtros aplicados.",
                "mediaHint": "Controles de pagina na parte inferior da lista."
            },
            {
                "title": "Exportar a lista",
                "description": "Clique em Exportar para baixar a tabela filtrada em CSV. O arquivo reflete exatamente o que estiver visivel na tela.",
                "mediaHint": "Botao Exportar no cabecalho do Estoque atual."
            }
        ],
        "notes": [
            "O resumo financeiro abaixo dos alertas usa o valor unitario cadastrado no material.",
            "Se um item nao mostrar centro de estoque, revise as movimentacoes (entradas/saidas) do material.",
            "Atalho: ao clicar em Entrada/Saida a partir do Estoque atual, o sistema tenta preencher automaticamente o Centro de estoque e o Material."
        ]
    },
    "entradas": {
        "title": "Entradas de estoque",
        "summary": "Registro de novas entradas e consulta histÃ³rica.",
        "steps": [
            {
                "title": "Registrar nova entrada",
                "description": "Primeiro selecione o Centro de estoque (*). O campo Material sÃ³ Ã© liberado apÃ³s escolher o centro. Em seguida, use o autocomplete para buscar e selecionar o material por nome ou ID. Preencha quantidade e data e clique em Registrar entrada para salvar. Dica: ao acessar a tela pelo Estoque atual, Centro de estoque e Material podem vir prÃ©-preenchidos.",
                "mediaHint": "FormulÃ¡rio de cadastro de entradas: Centro de estoque, Material (habilita apÃ³s selecionar o centro), Quantidade e Data."
            },
            {
                "title": "Aplicar filtros do histÃ³rico",
                "description": "Use o campo Busca para digitar parte do nome, descriÃ§Ã£o ou ID do material (ou do usuÃ¡rio que registrou) e combine com centro de estoque, status e perÃ­odo para refinar o histÃ³rico. Use Limpar para remover todos os filtros.",
                "mediaHint": "Filtros rÃ¡pidos do histÃ³rico de entradas (inclui status)."
            },
            {
                "title": "Editar, ver histÃ³rico ou cancelar",
                "description": "Na tabela, use os Ã­cones para cada entrada: olho (detalhes), lÃ¡pis (editar), relÃ³gio (histÃ³rico) e X vermelho (cancelar). Entradas canceladas ficam esmaecidas e nÃ£o exibem os botÃµes de ediÃ§Ã£o/cancelamento. O cancelamento Ã© bloqueado se as saÃ­das ativas ficarem maiores que o saldo sem essa entrada; ajuste/estorne saÃ­das antes.",
                "mediaHint": "Ãcones de detalhes, ediÃ§Ã£o, histÃ³rico e cancelamento na linha."
            },
            {
                "title": "Atualizar dados",
                "description": "Clique em Atualizar no cabeÃ§alho da lista para recarregar dados e sugestÃµes de materiais.",
                "mediaHint": "BotÃ£o Atualizar no topo da seÃ§Ã£o de histÃ³rico."
            }
        ],
        "notes": [
            "O campo Material aceita ID ou nome parcial; o dropdown mostra ID e descriÃ§Ã£o.",
            "Se nÃ£o houver centros de estoque configurados, o campo vira texto livre para nÃ£o travar o registro.",
            "Atalho: vindo do Estoque atual, o formulÃ¡rio pode abrir com Centro de estoque e Material jÃ¡ preenchidos.",
            "Status e usuÃ¡rio de ediÃ§Ã£o aparecem em detalhes e histÃ³rico; cancelamentos sÃ£o registrados.",
            "Filtros de status usam a lista configurada em status_entrada (REGISTRADO/CANCELADO por padrÃ£o).",
            "NÃ£o Ã© possÃ­vel cancelar uma entrada se as saÃ­das vigentes superarem o estoque que restaria sem ela; reduza ou estorne saÃ­das primeiro."
        ]
    },
    "saidas": {
        "title": "SaÃ­das de estoque",
        "summary": "Entrega de EPIs para pessoas, com rastreabilidade e cancelamento.",
        "steps": [
            {
                "title": "Registrar saÃ­da",
                "description": "No campo de busca, digite o nome ou matrÃ­cula para achar a pessoa e selecione o material pelo autocomplete. Informe quantidade, centro de estoque e data; confira o saldo exibido ao lado e clique em Registrar saÃ­da para gravar a entrega.",
                "mediaHint": "FormulÃ¡rio de cadastro de saÃ­das com busca de pessoa e material."
            },
            {
                "title": "Conferir saldo disponÃ­vel",
                "description": "Ao selecionar o material, a caixa lateral mostra saldo por centro de estoque para evitar liberaÃ§Ãµes acima do estoque.",
                "mediaHint": "Bloco de saldo do material ao lado do formulÃ¡rio."
            },
            {
                "title": "Editar ou cancelar",
                "description": "Clique em Editar para carregar o registro no formulÃ¡rio: ele sobe para o topo, fica amarelo e mostra âEditando...â. Ajuste os campos necessÃ¡rios e clique em Salvar alteraÃ§Ãµes para gravar; se desistir antes de salvar, use Cancelar ediÃ§Ã£o para voltar ao modo de cadastro.",
                "mediaHint": "AÃ§Ãµes de ediÃ§Ã£o e cancelamento na tabela de saÃ­das."
            },
            {
                "title": "Filtrar e paginar",
                "description": "No campo Busca digite o nome ou matrÃ­cula da pessoa, ou nome/descriÃ§Ã£o/ID do material ou CA, para trazer apenas as saÃ­das relacionadas; complemente com filtros de centro e status. Aplique, limpe se necessÃ¡rio e navegue pelas pÃ¡ginas no rodapÃ©.",
                "mediaHint": "Filtros superiores e paginaÃ§Ã£o inferior do histÃ³rico."
            }
        ],
        "notes": [
            "SaÃ­das canceladas ficam marcadas e nÃ£o impactam o saldo.",
            "Atalho: vindo do Estoque atual, o formulÃ¡rio pode abrir com Centro de estoque e Material jÃ¡ selecionados.",
            "O histÃ³rico detalha quem registrou e quando a entrega foi alterada."
        ]
    },
    "materiais": {
        "title": "Cadastro de materiais / EPI",
        "summary": "Cadastro centralizado de EPI com variaÃ§Ãµes, caracterÃ­sticas e valor.",
        "steps": [
            {
                "title": "Cadastrar ou editar material",
                "description": "Preencha nome, grupo, valor unitÃ¡rio e CA (quando houver). Ao editar, o tÃ­tulo muda para âEditando...â e o card fica destacado em amarelo; use Salvar para novo cadastro ou para gravar alteraÃ§Ãµes.",
                "mediaHint": "FormulÃ¡rio principal de materiais."
            },
            {
                "title": "Gerenciar variaÃ§Ãµes e atributos",
                "description": "Adicione caracterÃ­sticas, cores, fabricante e tamanho pelo autocomplete. Campos de lista aceitam mÃºltiplos itens.",
                "mediaHint": "Campos de caracterÃ­stica, cor e tamanho."
            },
            {
                "title": "Filtrar catÃ¡logo",
                "description": "Digite no campo Busca parte do nome, descriÃ§Ã£o, ID ou CA para filtrar rapidamente o catÃ¡logo; refine por grupo, tamanho, fabricante ou caracterÃ­stica e clique em Aplicar. Limpar remove todos os filtros.",
                "mediaHint": "Bloco de filtros acima da tabela de materiais."
            },
            {
                "title": "HistÃ³rico e detalhes",
                "description": "Na tabela use o botÃ£o de relÃ³gio para ver histÃ³rico de alteraÃ§Ãµes e o botÃ£o com olho para abrir o detalhamento completo do material.",
                "mediaHint": "AÃ§Ãµes de histÃ³rico e detalhes na tabela de materiais."
            },
            {
                "title": "Alerta de CA diferente",
                "description": "Se jÃ¡ existir base igual (grupo, item, fabricante, numeraÃ§Ã£o, cores e caracterÃ­sticas) com outro CA, o sistema mostra um modal de confirmaÃ§Ã£o antes de salvar. Confirme apenas se for realmente um CA diferente para o mesmo conjunto.",
                "mediaHint": "Modal de confirmaÃ§Ã£o exibido quando hÃ¡ base igual com CA diferente."
            }
        ],
        "notes": [
            "A ediÃ§Ã£o de um material reaproveita o mesmo formulÃ¡rio, mantendo os campos preenchidos.",
            "Valor unitÃ¡rio Ã© usado nos cÃ¡lculos de estoque e relatÃ³rios.",
            "CA vazio nÃ£o pode repetir base; CA diferente na mesma base exige confirmaÃ§Ã£o prÃ©via; CA duplicado Ã© bloqueado."
        ]
    },
        "pessoas": {
        "title": "Cadastro de pessoas",
        "summary": "Registro de colaboradores com data de admissao obrigatoria, demissao opcional e historico.",
        "steps": [
            {
                "title": "Cadastrar ou atualizar colaborador",
                "description": "Preencha nome, matricula, centro de servico, setor, cargo e DATA DE ADMISSAO (obrigatoria, dd/MM/yyyy). Ao editar, o formulario fica destacado; use Salvar para concluir.",
                "mediaHint": "Formulario principal de pessoas."
            },
            {
                "title": "Registrar demissao / status",
                "description": "Se preencher a DATA DE DEMISSAO, o backend desativa automaticamente o colaborador (ativo=false). Deixar vazia volta para ativo=true.",
                "mediaHint": "Campos de datas; o status acompanha a data de demissao."
            },
            {
                "title": "Cancelar / reativar",
                "description": "Use o botao de cancelar na tabela para marcar inativo: exige observacao, salva historico e fecha a edicao. Para reativar, edite a pessoa cancelada e marque Ativar.",
                "mediaHint": "Botoes de acao na linha: detalhes, editar, historico, cancelar."
            },
            {
                "title": "Filtrar lista",
                "description": "No campo Busca digite nome ou matricula (parcial) e combine com centro de servico, setor, cargo, status e intervalo de cadastro; clique em Aplicar. Limpar remove todos os filtros (aplicados no frontend).",
                "mediaHint": "Filtros e chips acima da tabela de pessoas."
            },
            {
                "title": "Ler resumo rapido",
                "description": "Os cards de resumo mostram quantidade por centro e setores mais frequentes conforme o filtro aplicado.",
                "mediaHint": "Cards de resumo logo apÇüs os filtros."
            },
            {
                "title": "Ver historico de alteracoes",
                "description": "Na tabela, clique no botao de relogio (Historico) para ver quem alterou dados do colaborador e quando (layout padrao Materiais).",
                "mediaHint": "Modal de historico de pessoas."
            }
        ],
        "notes": [
            "DATA DE ADMISSAO e obrigatoria; DATA DE DEMISSAO e opcional. Formato aceito: dd/MM/yyyy.",
            "Se a data de demissao for preenchida, o backend marca ativo=false; se vazia, ativo=true (trigger Supabase).",
            "Cancelamento exige observacao e grava no historico (modal segue padrao Materiais).",
            "Use o botao Atualizar na tabela para recarregar dados do servidor; filtros aplicam somente no frontend.",
            "Matricula duplicada e bloqueada; nome igual com matricula diferente gera alerta de confirmacao."
        ]
    },
    "acidentes": {
        "title": "Registro de acidentes",
        "summary": "Cadastro completo de acidentes com filtros, historico, status e cancelamento controlado.",
        "steps": [
            {
                "title": "Preencher dados do acidente",
                "description": "Selecione colaborador (matricula/nome), tipo, agente, lesao e parte afetada. Campos obrigatorios estao marcados com *. Ao editar, o titulo muda para \"Editando...\"; use Salvar para gravar.",
                "mediaHint": "Formulario de cadastro de acidentes sem campo de HHT."
            },
            {
                "title": "Definir status e cancelar se preciso",
                "description": "Use o botao de X para cancelar um registro: abre modal (estilo HHT) pedindo motivo, grava no historico e marca o status como Cancelado (fica visivel, mas sai dos calculos).",
                "mediaHint": "Botao de cancelar com modal de motivo."
            },
            {
                "title": "Filtrar registros",
                "description": "Use o campo Busca para digitar pessoa (nome/matricula), agente ou local, inclusive termos parciais, e filtrar rapidamente; refine por tipo, centro de servico ou agente e clique em Aplicar. Limpar zera todos os filtros.",
                "mediaHint": "Bloco de filtros acima da lista de acidentes."
            },
            {
                "title": "Consultar historico e detalhes",
                "description": "Clique no botao de relogio para ver historico (inclui mudanca de status/motivo) ou no botao com olho para abrir os detalhes completos do acidente, agora com o status exibido.",
                "mediaHint": "Modal de detalhes do acidente com status."
            }
        ],
        "notes": [
            "Ao salvar um acidente, a lista e recarregada automaticamente.",
            "Se algum dropdown estiver vazio, aguarde o carregamento ou revise integracoes de cadastro base.",
            "HHT nao e informado na ficha; o dashboard cruza data+centro com o HHT mensal ativo. Cancelados (ativo=false) nao entram nos calculos."
        ]
    },
    "hhtMensal": {
        "title": "HHT Mensal",
        "summary": "Registre o HHT (homem-hora trabalhada) por mes e centro de servico, com calculo automatico, status, historico e paginacao.",
        "steps": [
            {
                "title": "Escolher mes e centro",
                "description": "Informe o mes de referencia (no banco fica sempre no dia 01) e selecione o centro de servico. Mes+centro e unico.",
                "mediaHint": "Campos Mes de referencia e Centro de servico."
            },
            {
                "title": "Selecionar modo de calculo",
                "description": "Manual: digite o HHT final. Simples: informe apenas pessoas e horas base. Completo: habilita escala, descontos e horas extras.",
                "mediaHint": "Campo Modo e campos condicionais."
            },
            {
                "title": "Filtrar lista",
                "description": "Use Mes inicio, Mes fim e Centro de servico para filtrar e clique em Aplicar. Limpar remove todos os filtros.",
                "mediaHint": "Bloco de filtros do HHT mensal."
            },
            {
                "title": "Ver detalhes do registro",
                "description": "Use o botao de olho na tabela para abrir o modal com todos os campos: status, modo, HHT calculado/final, descontos, escala, registro (ID, registrado por, cadastrado/atualizado em/por).",
                "mediaHint": "Modal de detalhes do HHT mensal."
            },
            {
                "title": "Ver historico",
                "description": "Clique no botao de Historico para ver alteracoes (UPDATE/DELETE) registradas no Supabase.",
                "mediaHint": "Modal de historico do HHT mensal."
            }
        ],
        "notes": [
            "HHT calculado e HHT final sao recalculados no Supabase ao salvar.",
            "Horas negativas nao sao aceitas (constraints no banco).",
            "Os campos Registrado/Atualizado por exibem o nome do usuario se o ID existir em app_users; caso contrario aparece o ID.",
            "No cadastro de acidente, o HHT e preenchido automaticamente usando o HHT mensal ativo do centro/mes informado.",
            "Status usa a tabela status_hht (Ativo/Cancelado); registros cancelados continuam visiveis, sem botoes de edicao/cancelamento.",
            "A lista de HHT mensal Ã© paginada (20 itens/pagina)."
        ]
    },
    "termoEpi": {
        "title": "Termo de EPI",
        "summary": "Gere e baixe o termo de responsabilidade de EPI para colaboradores.",
        "steps": [
            {
                "title": "Preencher filtros de busca",
                "description": "No campo Busca informe matrÃ­cula ou nome do colaborador (parcial ou completo) e, se quiser, complete com intervalo de datas de entrega. NÃ£o Ã© necessÃ¡rio preencher todos os campos.",
                "mediaHint": "FormulÃ¡rio de filtros do termo."
            },
            {
                "title": "Gerar documento",
                "description": "Clique em Gerar termo para montar a prÃ©-visualizaÃ§Ã£o. Use Limpar para reiniciar os campos.",
                "mediaHint": "BotÃµes Gerar termo e Limpar."
            },
            {
                "title": "Analise a prÃ©-visualizaÃ§Ã£o",
                "description": "Revise os dados do colaborador e dos itens entregues no iframe exibido. O badge indica se o documento veio do cache local ou do servidor.",
                "mediaHint": "Iframe de prÃ©-visualizaÃ§Ã£o do termo."
            },
            {
                "title": "Baixar PDF",
                "description": "Com a prÃ©-visualizaÃ§Ã£o carregada, clique em Baixar PDF no cabeÃ§alho da seÃ§Ã£o para salvar o arquivo.",
                "mediaHint": "BotÃ£o Baixar PDF acima do iframe."
            }
        ],
        "notes": [
            "Se nenhum HTML for retornado, revise os filtros ou gere novas entregas antes.",
            "O download sÃ³ habilita depois que o HTML estiver carregado."
        ]
    },
    "configuracoes": {
        "title": "Configuracoes da conta",
        "summary": "Gerencie credenciais/paginas de titulares e dependentes com hierarquia por nivel (master > admin > operador > estagiario > visitante) e reset de senha.",
        "steps": [
            {
                "title": "Buscar usuario ou dependente",
                "description": "Digite nome/username/email para trazer titulares (app_users) e dependentes (app_users_dependentes); admins nao veem credenciais acima do seu nivel (ex.: master).",
                "mediaHint": "Autocomplete de usuario."
            },
            {
                "title": "Definir credencial e status",
                "description": "Selecione a credencial (Master aparece apenas para quem ja e master) e alterne Ativo/Inativo. Apenas admin/master podem alterar.",
                "mediaHint": "Seletores de credencial e switch de status."
            },
            {
                "title": "Liberar ou bloquear paginas",
                "description": "Ative/desative os toggles de cada pagina; se nao houver lista salva, aplicamos o padrao da credencial.",
                "mediaHint": "Toggles de paginas em duas colunas."
            },
            {
                "title": "Salvar alteracoes",
                "description": "Clique em Salvar credencial para registrar (titular ou dependente). Historico grava credencial/paginas/status (action update).",
                "mediaHint": "Botao Salvar credencial."
            },
            {
                "title": "Reset de senha (admin)",
                "description": "Admins/master podem buscar usuario/dependente e enviar email de redefinicao (modo local indisponivel); registra historico com action password_reset.",
                "mediaHint": "Botao de reset de senha."
            },
            {
                "title": "Ver historico",
                "description": "Abra o historico para ver quem alterou credencial/paginas/status ou disparou reset (campo action mostra o tipo).",
                "mediaHint": "Botao de historico de credenciais."
            }
        ],
        "notes": [
            "Busca retorna titulares e dependentes (id do auth) respeitando o nivel do usuario logado; master enxerga tudo.",
            "Em modo local, reset de senha fica indisponivel.",
            "Se page_permissions estiver vazio, aplicamos o padrao da credencial.",
            "As policies usam o level do catalogo para impedir que usuarios vejam/editem credenciais acima do seu nivel."
        ]
    }
}









